templates:
  build: 'docker build -t {repository}:{tag} --build-arg HADOOP_VERSION={hadoop_version} --build-arg SPARK_VERSION={spark_version} {context}'
  push: 'docker push {repository}:{tag}'
contexts:
  .:
    key_name: spark_version
    defaults:
      repository: aa8y/spark
      hadoop_version: 2.7.3
    tags:
      '1.6.0':
        hadoop_version: 2.6.5
      '1.6.1':
        hadoop_version: 2.6.5
      '1.6.2':
        hadoop_version: 2.6.5
      '1.6.3':
        hadoop_version: 2.6.5
      '2.0.0':
      '2.0.1':
      '2.0.2':
      '2.1.0':
      '2.1.1':
      '2.2.0':
      '1.6':
        hadoop_version: 2.6.5
        spark_version: 1.6.3
      '1':
        hadoop_version: 2.6.5
        spark_version: 1.6.3
      '2.0':
        spark_version: 2.0.2
      '2.1':
        spark_version: 2.1.1
      '2.2':
        spark_version: 2.2.0
      '2':
        spark_version: 2.2.0
      'latest':
        spark_version: 2.2.0
